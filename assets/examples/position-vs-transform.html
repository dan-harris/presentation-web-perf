<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1 user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="Description"
      content="danharris.io - portfolio site for Dan Harris - full-stack dev ðŸ¤“, grad advocate ðŸ‘©â€ðŸŽ“, beer enthusiast ðŸº"
    />
    <meta name="theme-color" content="#5e548e" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png" />
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" />
    <title>danharris.io - web perf</title>
    <style>
      /* base */
      html,
      body {
        padding: 0;
        margin: 0;
        font-family: 'Fira Sans', sans-serif;
        font-size: 16px;
        width: 100%;
        text-align: center;
      }

      :focus {
        outline: #865cd6 auto 5px;
      }

      /* animations */
      section.animations {
        width: 1000px;
        height: 400px;
        display: flex;
      }

      .animations__animated-elements {
        position: relative;
      }

      .animations__labels {
        display: flex;
        flex-direction: column;
      }

      .animations__labels label {
        font-family: Pacifico;
        font-size: 3rem;
        text-align: right;
        height: 180px;
        line-height: 180px;
        padding-right: 50px;
        width: 150px;
      }

      .position-animation,
      .transform-animation {
        width: 180px;
        height: 180px;
        line-height: 50px;
        margin-bottom: 0.75rem;
        text-align: center;
      }

      .transform-animation {
        will-change: transform;
      }

      .position-animation {
        position: absolute;
      }

      /* meta indicators */
      section.indicators {
        display: flex;
        justify-content: flex-end;
        margin-bottom: 0.75rem;
      }

      section.indicators label {
        font-size: 3rem;
        font-family: 'Fjalla One';
      }

      .fps-counter {
        min-width: 3.1rem;
        display: inline-block;
        text-align: right;
      }

      .blocking-js {
        margin-right: 1.25rem;
        will-change: opacity, visibility;
      }

      .blocking-js.hidden {
        opacity: 0;
        /* transition: 0.5s opacity ease-in-out; */
        visibility: hidden;
        transition: visibility 0s 0.5s, opacity 0.5s linear;
      }

      .blocking-js.visible {
        visibility: visible;
        opacity: 1;
        transition: 0.5s opacity ease-in-out;
      }

      .blocking-js .gear svg {
        height: 40px;
        width: 40px;
        animation: 2s gearspin infinite linear;
      }

      .blocking-js .gear {
        margin-right: 0.75rem;
      }

      @keyframes gearspin {
        from {
          transform: translateX(35%) rotate(0deg);
        }
        to {
          transform: translateX(35%) rotate(360deg);
        }
      }

      /* action buttons */
      section.actions {
        display: flex;
        justify-content: flex-end;
      }

      section.actions button:not(:last-of-type) {
        margin-right: 1.25rem;
      }

      button {
        font-family: 'Fira Sans';
        font-size: 2.5rem;
        background: none;
        border: none;
        display: flex;
        flex-direction: row;
        color: #9c9c9c;
        padding-bottom: 0.25rem;
      }

      button svg {
        margin-right: 0.75rem;
        margin-top: 0.5rem;
        stroke: currentColor;
      }

      button.reset-button svg {
        height: 40px;
        width: 40px;
        margin-right: 0.5rem;
      }

      button:hover {
        color: black;
        cursor: pointer;
      }

      button:disabled {
        color: initial;
        opacity: 0.2;
      }
    </style>
  </head>
  <body>
    <!-- some generic utils -->
    <script src="./fps-counter.js"></script>
    <script src="./blocking-js.js"></script>

    <!-- main content -->
    <main>
      <!-- animations -->
      <section class="animations">
        <!-- labels -->
        <div class="animations__labels">
          <label>transform</label>
          <label>position</label>
        </div>
        <!-- animations -->
        <div class="animations__animated-elements">
          <!-- transform -->
          <div class="transform-animation" style="transform: none;">
            <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M54.6914 77.9229C54.6914 75.0915 56.959 72.8189 59.7178 72.8189C62.4812 72.8189 64.7477 75.0916 64.7477 77.9229C64.7477 80.7546 62.4807 83.0293 59.7178 83.0293C56.9593 83.0293 54.6914 80.7549 54.6914 77.9229Z"
                fill="black"
                stroke="white"
                stroke-width="2"
              />
              <path
                d="M85.1611 77.9235C85.1611 75.0666 87.4461 72.7718 90.2367 72.7718C93.0228 72.7718 95.3082 75.0659 95.3082 77.9235C95.3082 80.7809 93.0228 83.0753 90.2367 83.0753C87.4461 83.0753 85.1611 80.7805 85.1611 77.9235Z"
                fill="black"
                stroke="white"
                stroke-width="2"
              />
              <path
                d="M60.208 127.041C60.208 124.67 62.1054 122.772 64.41 122.772C66.7184 122.772 68.6151 124.671 68.6151 127.041C68.6151 129.411 66.7179 131.312 64.41 131.312C62.1059 131.312 60.208 129.412 60.208 127.041Z"
                fill="black"
                stroke="white"
                stroke-width="2"
              />
              <path
                d="M81.3066 127.041C81.3066 124.649 83.2193 122.731 85.5514 122.731C87.8796 122.731 89.7926 124.648 89.7926 127.041C89.7926 129.433 87.8792 131.351 85.5514 131.351C83.2193 131.351 81.3066 129.433 81.3066 127.041Z"
                fill="black"
                stroke="white"
                stroke-width="2"
              />
              <path
                d="M135.482 3.87918L135.482 3.87989C135.556 4.17233 137.573 12.3745 135.875 22.2846L135.875 22.2846C134.399 30.9038 129.81 42.3164 116.563 49.7837L115.881 50.1681L116.09 50.9224C117.73 56.8284 118.337 64.1256 117.358 73.1452C116.144 84.3397 113.51 90.9844 110.416 98.7812L110.415 98.7837C109.211 101.819 107.958 104.978 106.684 108.68C106.264 109.901 106.054 112.096 105.955 114.319C105.854 116.587 105.865 119.043 105.944 120.89L105.948 121.066C105.944 134.429 99.3804 141.087 93.9219 144.349C87.5177 148.177 80.1275 149 75.0003 149C69.8734 149 62.4832 148.177 56.0787 144.349C50.6201 141.086 44.0565 134.429 44.0529 121.065L44.0568 120.889C44.1349 119.042 44.1459 116.586 44.0451 114.318C43.9463 112.095 43.7359 109.9 43.3165 108.68L43.3165 108.68C42.0427 104.977 40.7889 101.817 39.5844 98.7809C36.4907 90.9838 33.8559 84.3391 32.6421 73.1449L32.6421 73.1449C31.6633 64.1257 32.2707 56.8284 33.9102 50.9224L34.1196 50.1681L33.4377 49.7837C20.19 42.3164 15.6008 30.9038 14.125 22.2844L14.125 22.2843C12.4275 12.3742 14.4446 4.17201 14.5182 3.88008L14.5184 3.87918L15.1028 1.55386L17.4744 1.2019C17.4745 1.20189 17.4746 1.20188 17.4746 1.20187C17.4747 1.20187 17.4747 1.20186 17.4747 1.20186C17.9525 1.13112 30.1549 -0.561409 40.3773 7.37693L40.9907 6.58711L40.3774 7.37693C46.3507 12.0155 50.3792 18.8769 52.3437 27.9161L52.5965 29.0795L53.6988 28.6295C54.4404 28.3268 55.1812 28.0502 55.9163 27.7984L55.9496 27.787L55.9819 27.7733C56.632 27.4982 58.4228 26.8156 61.4203 26.1913L62.346 25.9985L62.2052 25.0634L58.5822 1H91.4183L87.7959 25.0629L87.6551 25.998L88.581 26.1907C91.5804 26.8151 93.3681 27.497 94.0196 27.7731L94.0521 27.7869L94.0856 27.7983C94.8201 28.0501 95.5605 28.327 96.3025 28.6294L97.4044 29.0786L97.6571 27.9158C99.6213 18.8766 103.65 12.0152 109.623 7.37636C119.842 -0.559072 132.04 1.13062 132.526 1.20196C132.526 1.20199 132.527 1.20202 132.527 1.20206L134.897 1.55386L135.482 3.87918ZM78.2229 34.6735H79.0836L79.2118 33.8224L82.8988 9.33257L81.9099 9.18369V8.18369H68.0903H66.9285L67.1014 9.33258L70.7887 33.8224L70.9169 34.6735H71.7776H78.2229ZM35.9617 42.9432L36.8375 43.4737L37.3472 42.5856C39.5919 38.6738 42.4071 35.6419 45.4725 33.2931L45.9427 32.9328L45.8527 32.3474C44.5301 23.7444 41.286 17.2221 36.0575 13.1183C31.1303 9.25079 25.4438 8.3558 21.954 8.21295L21.0256 8.17494L20.9197 9.0981C20.5868 11.9991 20.3773 16.4714 21.2594 21.3785C22.954 30.8056 27.9042 38.0624 35.9617 42.9432ZM51.2374 121.107L51.2365 121.129L51.2366 121.151C51.2587 129.075 54.0042 134.74 59.7643 138.183C65.0867 141.365 71.6368 141.816 75.0003 141.816C78.364 141.816 84.9142 141.365 90.2365 138.183C95.9963 134.74 98.7421 129.074 98.7642 121.151L98.7643 121.129L98.7634 121.107C98.7481 120.73 98.7258 120.099 98.711 119.299L98.7032 118.873L98.3905 118.583C92.9988 113.593 84.2199 110.623 75.0003 110.623C65.7806 110.623 57.002 113.592 51.6103 118.583L51.2975 118.873L51.2898 119.299C51.2753 120.1 51.253 120.73 51.2374 121.107ZM104.271 93.0423H104.958L105.205 92.4014C107.497 86.4449 109.297 80.8586 110.217 72.3709C110.545 69.3452 110.679 66.486 110.631 63.7868L110.614 62.8045H109.632H94.3679V55.6208H108.579H109.835L109.554 54.3967C108.781 51.0379 107.6 48.0358 105.986 45.4318L105.136 45.9586L105.986 45.4318C102.832 40.3429 97.9681 36.6881 91.6023 34.5423L91.6016 34.5421L91.3667 34.4631L91.2638 34.4106L91.2302 34.3935L91.1954 34.3789C90.9579 34.2794 89.7893 33.8147 87.6317 33.3346L86.5853 33.1017L86.4257 34.1618L85.2668 41.8578H64.7334L63.5746 34.1618L63.4149 33.1016L62.3684 33.3346C60.204 33.8166 59.0324 34.2833 58.8013 34.3802L58.7699 34.3933L58.7394 34.4086L58.5674 34.4949L58.4591 34.5239L58.4282 34.5321L58.3979 34.5423C52.0321 36.6881 47.1684 40.343 44.0146 45.4321L44.8219 45.9324L44.0146 45.4321C42.4009 48.0361 41.2195 51.0382 40.4471 54.3967L40.1655 55.6208H41.4216H55.6329V62.8045H40.369H39.3866L39.3692 63.7867C39.3212 66.4866 39.4554 69.3458 39.7832 72.3708L39.7832 72.3709C40.7037 80.8586 42.5033 86.4449 44.7956 92.4014L45.0422 93.0423H45.7289H58.7193V100.226H49.3207H47.8736L48.3853 101.58C48.9518 103.078 49.5257 104.648 50.1091 106.344L50.1092 106.345C50.3313 106.99 50.5174 107.755 50.672 108.606L50.9288 110.021L52.1655 109.288C58.4576 105.562 66.4779 103.439 75 103.439C83.522 103.439 91.5427 105.562 97.8347 109.288L99.0714 110.021L99.3282 108.606C99.4828 107.755 99.6692 106.989 99.8911 106.344C100.475 104.648 101.048 103.078 101.615 101.58L102.127 100.226H100.68H91.2806V93.0423H104.271ZM112.653 42.5856L113.163 43.4736L114.038 42.9433C122.187 38.0085 127.155 30.6466 128.795 21.0715C129.613 16.2947 129.405 11.9419 129.079 9.09737L128.973 8.17399L128.044 8.21207C124.561 8.35492 118.872 9.24871 113.942 13.1183C108.714 17.2221 105.47 23.7444 104.147 32.3474L104.057 32.9328L104.527 33.2931C107.593 35.6419 110.408 38.6739 112.653 42.5856Z"
                fill="black"
                stroke="white"
                stroke-width="2"
              />
            </svg>
          </div>
          <!-- position -->
          <div class="position-animation" style="left: 0;">
            <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <path
                  d="M54.7012 62.6777C54.7012 59.8471 56.9671 57.5761 59.7246 57.5761C62.4865 57.5761 64.7518 59.8475 64.7518 62.6777C64.7518 65.5076 62.486 67.7811 59.7246 67.7811C56.9679 67.7811 54.7012 65.5079 54.7012 62.6777Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M95.2993 62.6777V62.6778C95.2993 65.5337 93.015 67.8268 90.2304 67.8268C87.441 67.8268 85.1572 65.5332 85.1572 62.6778C85.1572 59.8223 87.441 57.5287 90.2304 57.5287C93.0154 57.5287 95.2995 59.8216 95.2993 62.6777Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M126.21 12.1509L126.211 12.1509C132.615 12.4579 138.508 15.2836 142.812 20.1174C147.094 24.9272 149.282 31.1453 148.971 37.6368C148.523 46.963 142.998 55.0014 134.854 58.7075L134.024 59.0855L134.324 59.9471C136.87 67.2439 138.222 74.8533 138.222 82.3772C138.222 99.0765 131.726 113.219 119.45 123.341C108.111 132.69 92.3365 137.877 74.9999 137.877C57.6633 137.877 41.8883 132.69 30.5501 123.341C18.2738 113.219 11.7782 99.0762 11.7782 82.3772C11.7782 74.8533 13.1301 67.2439 15.6757 59.9471L15.9763 59.0855L15.1457 58.7075C7.00121 55.0008 1.47668 46.9627 1.02923 37.6368L1.02923 37.6367C0.717645 31.1453 2.90549 24.9273 7.18768 20.1174C11.4913 15.2836 17.3843 12.4579 23.7888 12.1503L23.7891 12.1503C31.8478 11.7611 39.5238 15.6048 44.2267 22.0596L44.768 22.8026L45.5539 22.3255C47.0696 21.4052 48.6151 20.5493 50.1926 19.7664C58.1347 15.8262 66.4789 13.8331 74.9996 13.8331C83.5203 13.8331 91.8645 15.8262 99.8069 19.7667C101.384 20.5492 102.929 21.4055 104.445 22.3258L105.231 22.8029L105.773 22.0598C110.475 15.605 118.148 11.7603 126.21 12.1509ZM12.5529 24.8944L12.5529 24.8944C9.52701 28.2933 7.98395 32.6998 8.20464 37.2927C8.51496 43.7624 12.2698 49.3724 17.8571 52.041L18.7473 52.4662L19.1845 51.5819C22.0758 45.7346 25.7609 40.2219 30.1486 35.2779C32.6661 32.4419 35.3469 29.8636 38.174 27.5509L38.9106 26.9483L38.3451 26.1828C35.0525 21.725 29.7365 19.0549 24.1331 19.3258C19.6704 19.5404 15.5552 21.522 12.5529 24.8944ZM68.3059 99.4039L68.3059 99.404C69.533 100.63 70.81 101.583 71.9507 102.236C73.0477 102.864 74.1501 103.289 75.0005 103.289C75.8509 103.289 76.9533 102.864 78.0503 102.236C79.1909 101.583 80.468 100.63 81.6951 99.404L81.6951 99.4039C82.9417 98.1578 83.9023 96.8703 84.5572 95.7128C85.191 94.5925 85.6049 93.4773 85.6049 92.5988C85.6049 92.07 85.5787 91.471 85.2444 90.9893C84.9357 90.5444 84.4472 90.3437 84.1705 90.2301C84.1462 90.2201 84.1236 90.2108 84.1029 90.2021L84.1026 90.202C82.9452 89.7151 81.3257 89.4723 79.7321 89.3417C78.11 89.2087 76.3991 89.1845 75.0002 89.1845C73.6014 89.1845 71.8906 89.2088 70.2685 89.3418C68.675 89.4725 67.0555 89.7153 65.8982 90.2019L65.898 90.202C65.8773 90.2107 65.8547 90.22 65.8304 90.23C65.5538 90.3435 65.0652 90.5441 64.7565 90.9892C64.4223 91.4708 64.3961 92.0699 64.3961 92.5988C64.3961 93.4773 64.8099 94.5925 65.4437 95.7128C66.0985 96.8703 67.0591 98.1578 68.3059 99.4039ZM124.099 106.093L124.826 106.261L125.195 105.613C128.705 99.4363 130.662 92.3845 130.987 84.6855L131.042 83.3718L129.761 83.6692L107.386 88.865L105.761 81.8674L129.819 76.2811L130.697 76.0773L130.585 75.1832C129.003 62.5067 123.326 50.0154 114.478 40.047C104.787 29.128 92.5852 22.5482 79.6913 21.2567L78.5916 21.1466V22.2517V40.9869H71.4079V22.2515V21.1463L70.3083 21.2564C57.4143 22.5479 45.2121 29.1277 35.5211 40.0467L36.1646 40.6178L35.5211 40.0467C26.674 50.0151 20.9968 62.5064 19.4146 75.1826L19.303 76.0767L20.1807 76.2805L44.2395 81.8671L42.6145 88.8647L20.2384 83.6686L18.9578 83.3712L19.0131 84.6848C19.3374 92.3843 21.2943 99.436 24.8047 105.613L25.1734 106.261L25.9003 106.093L42.6147 102.211L44.2398 109.209L31.4043 112.19L29.7101 112.583L30.9024 113.849C32.2067 115.234 33.6108 116.553 35.1201 117.798L35.1202 117.798C44.2243 125.304 56.6121 129.738 70.3496 130.553L71.4088 130.616V129.555V110.555V109.869L70.7689 109.622C67.3598 108.307 64.5436 105.799 63.2282 104.484L62.5998 105.113L63.2282 104.484C62.3126 103.569 60.7942 101.902 59.51 99.7922C58.2213 97.6746 57.2128 95.183 57.2128 92.5979C57.2128 88.3469 59.2932 85.1862 63.1123 83.5796L63.1125 83.5796C65.7204 82.4819 69.1113 81.9997 75.0005 81.9997C80.8897 81.9997 84.2803 82.4819 86.8885 83.5796L87.2764 82.6579L86.8886 83.5796C90.7075 85.1865 92.7882 88.347 92.7882 92.5979C92.7882 95.183 91.7796 97.6747 90.491 99.7923C89.2068 101.903 87.6884 103.569 86.7729 104.484C85.4571 105.799 82.6406 108.307 79.2318 109.622L78.5919 109.869V110.555V129.555V130.616L79.6511 130.553C93.3879 129.738 105.775 125.305 114.879 117.798L114.879 117.798C116.388 116.553 117.793 115.234 119.097 113.849L120.29 112.583L118.596 112.19L105.761 109.209L107.386 102.212L124.099 106.093ZM130.815 51.5827L131.252 52.4672L132.142 52.0418C137.729 49.3723 141.484 43.7627 141.795 37.2926C142.015 32.6998 140.473 28.2933 137.446 24.8952C134.444 21.5226 130.329 19.5407 125.866 19.3266C120.261 19.0559 114.946 21.7255 111.654 26.1835L111.089 26.949L111.825 27.5515C114.652 29.8646 117.333 32.4423 119.851 35.2788L119.851 35.2788C124.239 40.2225 127.924 45.7355 130.815 51.5827Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="150" height="150" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>
      </section>

      <!-- 'meta' indicators -->
      <section class="indicators">
        <label class="blocking-js hidden">
          <span class="gear">
            <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  fill="white"
                />
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  fill="white"
                />
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  stroke="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  fill="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  fill="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  stroke="black"
                />
                <path
                  d="M30 15.2344C21.8582 15.2344 15.2344 21.8582 15.2344 30C15.2344 38.1418 21.8582 44.7657 30 44.7657C38.1418 44.7657 44.7656 38.1418 44.7656 30C44.7656 21.8582 38.1418 15.2344 30 15.2344ZM30 41.25C23.7968 41.25 18.75 36.2032 18.75 30C18.75 23.7969 23.7968 18.75 30 18.75C36.2032 18.75 41.25 23.7969 41.25 30C41.25 36.2032 36.2032 41.25 30 41.25Z"
                  fill="black"
                  stroke="black"
                />
                <path
                  d="M30 22.7344C25.9937 22.7344 22.7344 25.9937 22.7344 30.0001C22.7344 34.0064 25.9937 37.2657 30 37.2657C34.0064 37.2657 37.2656 34.0064 37.2656 30.0001C37.2656 25.9937 34.0064 22.7344 30 22.7344ZM30 33.7501C27.9323 33.7501 26.25 32.0678 26.25 30.0001C26.25 27.9323 27.9323 26.2501 30 26.2501C32.0677 26.2501 33.75 27.9323 33.75 30.0001C33.75 32.0678 32.0677 33.7501 30 33.7501Z"
                  fill="black"
                  stroke="black"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="60" height="60" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </span>
        </label>
        <label class="fps-label"><span class="fps-counter">0</span> FPS</label>
      </section>

      <!-- actions -->
      <section class="actions">
        <button class="start-button" onclick="startAnimation()">
          <svg width="32" height="37" viewBox="0 0 32 37" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 18.5L30.25 3.34455L30.25 33.6554L4 18.5Z" stroke="currentColor" stroke-width="3.5" />
          </svg>
          start
        </button>
        <button class="reset-button" onclick="resetAnimation()">
          <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M33.6155 5.15705H36.9659H37.2159V4.90705V2.43282V2.18282H36.9659H26.9413H26.6913V2.43282V12.5148V12.7648H26.9413H29.4155H29.6655V12.5148V6.04975C34.9608 9.11106 38.2758 14.7594 38.2758 21C38.2758 30.5257 30.5257 38.2758 21 38.2758C11.4743 38.2758 3.72423 30.5257 3.72423 21C3.72423 11.4743 11.4743 3.72423 21 3.72423C21.4273 3.72423 21.8632 3.74049 22.2954 3.77245L22.5447 3.79089L22.5631 3.54159L22.7458 1.07413L22.7643 0.824823L22.515 0.806353C22.0102 0.768955 21.5005 0.75 21 0.75C15.5915 0.75 10.5055 2.85675 6.68112 6.68104L6.68112 6.68104C2.85675 10.5055 0.75 15.5915 0.75 21C0.75 26.4085 2.85675 31.4945 6.68112 35.3189C10.5055 39.1432 15.5915 41.25 21 41.25C26.4085 41.25 31.4945 39.1432 35.319 35.3189C39.1432 31.4945 41.25 26.4085 41.25 21C41.25 16.9171 40.0397 12.9808 37.7501 9.6179C36.5925 7.9179 35.1986 6.41845 33.6155 5.15705Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="0.5"
            />
            <path
              d="M19.5131 8.03143V19.5129H8.01074H7.76074V19.7629V22.2371V22.4871H8.01074H22.2373H22.4873V22.2371V8.03143V7.78143H22.2373H19.7631H19.5131V8.03143Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="0.5"
            />
          </svg>
          reset
        </button>
      </section>
    </main>

    <script>
      /**
       * animate our CSS & JS elements
       * with help of some base code from https://sergeche.github.io/gpu-article-assets/examples/js-vs-css.html
       */
      function startAnimation() {
        // reset everything
        resetAnimation();

        // run fps refresh loop
        window.startRefreshFPS();

        // get our DOM elements
        const { startButtonElement, positionAnimationElement, transformAnimationElement, blockingJSElement } = window.getAnimateElements();

        // so we don't accidentally run twice
        if (startButtonElement.disabled) return;

        // start 'running' animation
        blockingJSElement.classList.toggle('visible');
        blockingJSElement.classList.toggle('hidden');

        // setup some details for animation
        startButtonElement.disabled = true;
        const distance = 600; // in pixels

        // begin animation
        document.body.classList.add('animate');

        // kick off our imperative animations
        // setTimeout(() => animationLoop({ distance, animateElement: positionAnimationElement, isRaf: false }), 50);
        requestAnimationFrame(() => animationLoop({ distance, animateElement: positionAnimationElement, isRaf: true, isTransform: false }));
        requestAnimationFrame(() => animationLoop({ distance, animateElement: transformAnimationElement, isRaf: true, isTransform: true }));
      }

      /**
       * reset everything ðŸš‚
       */
      function resetAnimation() {
        // stop fps refresh loop
        window.stopRefreshFPS();

        // get our DOM elements
        const { startButtonElement, positionAnimationElement, transformAnimationElement } = window.getAnimateElements();

        // allow button use
        startButtonElement.disabled = false;

        // reset animation elements
        positionAnimationElement.style.left = '0';
        transformAnimationElement.style.transform = 'none';
      }

      /**
       * our js animation loop
       */
      function animationLoop({
        start = Date.now(),
        distance = 600,
        duration = 5000,
        animateElement = null,
        isRaf = true,
        isTransform = true
      }) {
        // get some timings
        const now = Date.now();
        const currentDuration = Math.min(now - start, duration);

        // manually move our animation element
        if (isTransform) animateElement.style.transform = 'translateX(' + distance * (currentDuration / duration) + 'px)';
        else animateElement.style.left = distance * (currentDuration / duration) + 'px';

        // depending on timings, cancel loop or run again
        if (currentDuration === duration) return animationLoopCleanup();
        else
          isRaf
            ? requestAnimationFrame(() => animationLoop({ start, animateElement, isRaf, isTransform }))
            : setTimeout(() => animationLoop({ start, animateElement, isRaf, isTransform }), 50);
      }

      /**
       * cleanup our animation loop
       */
      function animationLoopCleanup() {
        // get elements
        const { startButtonElement, statusElement, blockingJSElement } = window.getAnimateElements();

        // remove animation classes
        document.body.classList.remove('animate');

        // stop 'running' animation
        blockingJSElement.classList.remove('visible');
        blockingJSElement.classList.add('hidden');

        // reset button & fps counter
        return setTimeout(() => {
          startButtonElement.disabled = false;
          window.stopRefreshFPS();
        }, 500);
      }

      /**
       * get our elements from DOM
       */
      function getAnimateElements() {
        const startButtonElement = document.querySelector('.start-button');
        const positionAnimationElement = document.querySelector('.position-animation');
        const transformAnimationElement = document.querySelector('.transform-animation');
        const blockingJSElement = document.querySelector('.blocking-js');
        return { startButtonElement, positionAnimationElement, transformAnimationElement, blockingJSElement };
      }
    </script>
  </body>
</html>
