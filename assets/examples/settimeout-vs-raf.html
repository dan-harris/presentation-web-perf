<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width initial-scale=1 user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="Description"
      content="danharris.io - portfolio site for Dan Harris - full-stack dev ðŸ¤“, grad advocate ðŸ‘©â€ðŸŽ“, beer enthusiast ðŸº"
    />
    <meta name="theme-color" content="#5e548e" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png" />
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" />
    <title>danharris.io - web perf</title>
    <style>
      /* base */
      html,
      body {
        padding: 0;
        margin: 0;
        font-family: 'Fira Sans', sans-serif;
        font-size: 16px;
        width: 100%;
        text-align: center;
        background-color: white; /* explicitly set this so we can hide loading spinners behing iframe */
      }

      :focus {
        outline: #865cd6 dashed 5px;
      }

      /* animations */
      section.animations {
        width: 1000px;
        height: 400px;
        display: flex;
      }

      .animations__labels {
        display: flex;
        flex-direction: column;
      }

      .animations__labels label {
        font-family: Pacifico;
        font-size: 3rem;
        text-align: right;
        height: 180px;
        line-height: 180px;
        padding-right: 50px;
        width: 150px;
      }

      .timeout-animation,
      .raf-animation {
        width: 180px;
        height: 180px;
        line-height: 50px;
        margin-bottom: 0.75rem;
        text-align: center;
        will-change: transform;
      }

      /* meta indicators */
      section.indicators {
        display: flex;
        justify-content: flex-end;
        margin-bottom: 0.75rem;
      }

      section.indicators label {
        font-size: 3rem;
        font-family: 'Fjalla One';
      }

      .fps-counter {
        min-width: 3.1rem;
        display: inline-block;
        text-align: right;
      }

      .blocking-js {
        margin-right: 1.25rem;
        will-change: opacity, visibility;
      }

      .blocking-js.hidden {
        opacity: 0;
        /* transition: 0.5s opacity ease-in-out; */
        visibility: hidden;
        transition: visibility 0s 0.5s, opacity 0.5s linear;
      }

      .blocking-js.visible {
        visibility: visible;
        opacity: 1;
        transition: 0.5s opacity ease-in-out;
      }

      .blocking-js .gear svg {
        height: 40px;
        width: 40px;
        animation: 2s gearspin infinite linear;
      }

      .blocking-js .gear {
        margin-right: 0.75rem;
      }

      @keyframes gearspin {
        from {
          transform: translateX(35%) rotate(0deg);
        }
        to {
          transform: translateX(35%) rotate(360deg);
        }
      }

      /* action buttons */
      section.actions {
        display: flex;
        justify-content: flex-end;
      }

      section.actions button:not(:last-of-type) {
        margin-right: 1.25rem;
      }

      button {
        font-family: 'Fira Sans';
        font-size: 2.5rem;
        background: none;
        border: none;
        display: flex;
        flex-direction: row;
        color: #9c9c9c;
        padding-bottom: 0.25rem;
        margin: 0.3rem;
      }

      button svg {
        margin-right: 0.75rem;
        margin-top: 0.5rem;
        stroke: currentColor;
      }

      button.reset-button svg {
        height: 40px;
        width: 40px;
        margin-right: 0.5rem;
      }

      button:hover {
        color: black;
        cursor: pointer;
      }

      button:disabled {
        color: initial;
        opacity: 0.2;
      }
    </style>
  </head>
  <body>
    <!-- some generic utils -->
    <script src="./fps-counter.js"></script>
    <script src="./blocking-js.js"></script>

    <!-- main content -->
    <main>
      <!-- animations -->
      <section class="animations">
        <!-- labels -->
        <div class="animations__labels">
          <label>timeout</label>
          <label>raf</label>
        </div>
        <!-- animations -->
        <div class="animations__animated-elements">
          <!-- setTimeout -->
          <div class="timeout-animation" style="transform: none;">
            <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <mask id="path-1-inside-1" fill="white">
                  <path
                    d="M147.901 37.9832L146.232 34.2291L142.316 35.4707C131.983 38.7464 119.928 42.5283 114.67 44.1766C114.485 44.0075 114.298 43.8408 114.108 43.6753C114.888 41.754 115.313 39.666 115.313 37.5027V37.3082C115.263 31.0621 111.665 25.4605 106.245 22.7286C105.353 17.7589 102.23 13.4575 97.6143 11.066C93.9446 9.16349 89.7188 8.73459 85.7924 9.77756C82.8443 7.24982 79.0972 5.84884 75.1046 5.84884C75.0993 5.84884 75.0938 5.84884 75.0888 5.84884C71.0868 5.85206 67.3324 7.26476 64.3831 9.80861C60.4512 8.77355 56.2213 9.21652 52.5512 11.1363C47.9288 13.5548 44.8212 17.8826 43.9587 22.8709C38.5312 25.6498 34.9716 31.3052 34.9927 37.5839C34.9983 39.6478 35.3929 41.6412 36.1107 43.4866C35.8461 43.7131 35.5866 43.9431 35.3314 44.1766C30.0729 42.5286 18.0181 38.7467 7.68444 35.4704L3.76832 34.2288L2.09957 37.9829C0.0944855 42.4934 -1.49341 49.1427 2.32779 55.2025C7.30739 63.0997 18.8264 65.5616 25.2433 66.3277C25.1533 67.5224 25.1076 68.7467 25.1076 70.0021C25.1076 81.3725 27.73 88.3534 31.0505 97.1911C32.1588 100.141 33.3049 103.192 34.4923 106.759C37.5679 116.002 41.2857 125.532 47.6103 132.617C53.535 139.254 61.0257 142.944 70.4077 143.829V144.151H79.5929V143.829C88.9749 142.944 96.4656 139.255 102.39 132.617C108.715 125.531 112.433 116.002 115.508 106.759C116.696 103.192 117.842 100.142 118.95 97.1911C122.271 88.3534 124.893 81.3725 124.893 70.0021C124.893 68.7467 124.846 67.5227 124.756 66.328C131.173 65.5619 142.693 63.1003 147.673 55.2027C151.494 49.143 149.906 42.4937 147.901 37.9832ZM26.9733 57.267C21.6966 56.6746 12.9271 54.804 10.0929 50.2967C9.73845 49.7324 8.86394 48.3426 9.282 45.6106C16.6118 47.9274 24.1971 50.3107 29.2669 51.9013C28.3505 53.5835 27.5873 55.3735 26.9733 57.267ZM49.5257 30.5116L53.0089 29.5586L52.9043 25.9492C52.8225 23.1361 54.3193 20.5785 56.8098 19.2753C58.9037 18.1796 61.4124 18.1732 63.5194 19.2566L66.9577 21.0247L69.2859 17.9382C70.677 16.0949 72.7948 15.0361 75.097 15.034C75.0993 15.034 75.102 15.034 75.104 15.034C77.4035 15.034 79.5196 16.0855 80.9112 17.9192L83.2459 20.9962L86.6775 19.2238C88.7839 18.136 91.292 18.1348 93.3879 19.2211C95.877 20.5108 97.3843 23.0564 97.321 25.8648L97.2396 29.4771L100.731 30.4064C103.877 31.2437 106.095 34.1046 106.128 37.3668V37.5024C106.128 40.7825 103.921 43.6723 100.761 44.531L97.2742 45.4776L97.3732 49.0888C97.4499 51.8983 95.9511 54.4481 93.4556 55.7462C91.3621 56.8393 88.8554 56.8445 86.7492 55.7597L83.3139 53.991L80.9836 57.0728C79.5905 58.9147 77.473 59.9711 75.1737 59.9711C72.8687 59.9711 70.749 58.9176 69.3592 57.0801L67.0268 53.9963L63.5906 55.7693C61.4836 56.8568 58.9761 56.8557 56.8801 55.7644C54.3893 54.4697 52.8858 51.9215 52.9558 49.114L53.0458 45.5017L49.5562 44.5642C46.3986 43.7157 44.1873 40.8352 44.1785 37.5528C44.167 34.2721 46.3664 31.3767 49.5257 30.5116ZM69.0079 119.058C66.6313 116.683 65.3883 114.19 65.3883 112.955C65.3883 111.852 65.5772 111.773 66.2798 111.477C68.2825 110.634 72.2159 110.537 75 110.537C77.7841 110.537 81.7175 110.634 83.7202 111.477C84.4228 111.773 84.6117 111.852 84.6117 112.955C84.6117 114.19 83.3684 116.683 80.9921 119.058C78.6557 121.394 76.161 122.653 75 122.653C73.839 122.653 71.3446 121.393 69.0079 119.058ZM110.351 93.9611C109.266 96.8507 108.036 100.126 106.793 103.859C100.703 122.161 94.3125 132.826 79.5926 134.591V130.922C83.1985 129.53 86.1352 126.904 87.4852 125.555C89.3828 123.659 93.7969 118.634 93.7969 112.956C93.7969 108.31 91.483 104.779 87.2825 103.011C84.482 101.833 80.9233 101.352 75 101.352C69.0768 101.352 65.5181 101.833 62.7176 103.011C58.5164 104.779 56.2031 108.31 56.2031 112.956C56.2031 118.634 60.6173 123.659 62.5148 125.555C63.8648 126.904 66.8016 129.53 70.4074 130.922V134.591C55.6881 132.826 49.2972 122.161 43.207 103.859C41.9645 100.126 40.734 96.8504 39.6486 93.9611C36.539 85.6845 34.2922 79.7047 34.2922 70.0027C34.2922 61.6173 36.7256 55.2971 41.707 50.8015C42.4338 51.3373 43.2076 51.8169 44.0235 52.2303C44.9062 57.2046 48.0231 61.5133 52.6409 63.913C56.3103 65.8232 60.5379 66.2579 64.4683 65.2161C67.4177 67.7503 71.1721 69.1563 75.1734 69.1563C79.1731 69.1563 82.9272 67.7474 85.878 65.2074C89.809 66.2459 94.036 65.8059 97.7007 63.8919C102.245 61.528 105.398 57.1384 106.298 52.1899C107.038 51.814 107.741 51.3827 108.408 50.9061C113.312 55.3935 115.708 61.6768 115.708 70.0024C115.708 79.7044 113.461 85.6845 110.351 93.9611ZM139.908 50.2967C137.073 54.8058 128.298 56.6758 123.025 57.2676C122.411 55.3741 121.645 53.5853 120.729 51.9027C125.799 50.3122 133.387 47.9283 140.719 45.6106C141.137 48.3426 140.262 49.7324 139.908 50.2967Z"
                  />
                </mask>
                <path
                  d="M147.901 37.9832L146.232 34.2291L142.316 35.4707C131.983 38.7464 119.928 42.5283 114.67 44.1766C114.485 44.0075 114.298 43.8408 114.108 43.6753C114.888 41.754 115.313 39.666 115.313 37.5027V37.3082C115.263 31.0621 111.665 25.4605 106.245 22.7286C105.353 17.7589 102.23 13.4575 97.6143 11.066C93.9446 9.16349 89.7188 8.73459 85.7924 9.77756C82.8443 7.24982 79.0972 5.84884 75.1046 5.84884C75.0993 5.84884 75.0938 5.84884 75.0888 5.84884C71.0868 5.85206 67.3324 7.26476 64.3831 9.80861C60.4512 8.77355 56.2213 9.21652 52.5512 11.1363C47.9288 13.5548 44.8212 17.8826 43.9587 22.8709C38.5312 25.6498 34.9716 31.3052 34.9927 37.5839C34.9983 39.6478 35.3929 41.6412 36.1107 43.4866C35.8461 43.7131 35.5866 43.9431 35.3314 44.1766C30.0729 42.5286 18.0181 38.7467 7.68444 35.4704L3.76832 34.2288L2.09957 37.9829C0.0944855 42.4934 -1.49341 49.1427 2.32779 55.2025C7.30739 63.0997 18.8264 65.5616 25.2433 66.3277C25.1533 67.5224 25.1076 68.7467 25.1076 70.0021C25.1076 81.3725 27.73 88.3534 31.0505 97.1911C32.1588 100.141 33.3049 103.192 34.4923 106.759C37.5679 116.002 41.2857 125.532 47.6103 132.617C53.535 139.254 61.0257 142.944 70.4077 143.829V144.151H79.5929V143.829C88.9749 142.944 96.4656 139.255 102.39 132.617C108.715 125.531 112.433 116.002 115.508 106.759C116.696 103.192 117.842 100.142 118.95 97.1911C122.271 88.3534 124.893 81.3725 124.893 70.0021C124.893 68.7467 124.846 67.5227 124.756 66.328C131.173 65.5619 142.693 63.1003 147.673 55.2027C151.494 49.143 149.906 42.4937 147.901 37.9832ZM26.9733 57.267C21.6966 56.6746 12.9271 54.804 10.0929 50.2967C9.73845 49.7324 8.86394 48.3426 9.282 45.6106C16.6118 47.9274 24.1971 50.3107 29.2669 51.9013C28.3505 53.5835 27.5873 55.3735 26.9733 57.267ZM49.5257 30.5116L53.0089 29.5586L52.9043 25.9492C52.8225 23.1361 54.3193 20.5785 56.8098 19.2753C58.9037 18.1796 61.4124 18.1732 63.5194 19.2566L66.9577 21.0247L69.2859 17.9382C70.677 16.0949 72.7948 15.0361 75.097 15.034C75.0993 15.034 75.102 15.034 75.104 15.034C77.4035 15.034 79.5196 16.0855 80.9112 17.9192L83.2459 20.9962L86.6775 19.2238C88.7839 18.136 91.292 18.1348 93.3879 19.2211C95.877 20.5108 97.3843 23.0564 97.321 25.8648L97.2396 29.4771L100.731 30.4064C103.877 31.2437 106.095 34.1046 106.128 37.3668V37.5024C106.128 40.7825 103.921 43.6723 100.761 44.531L97.2742 45.4776L97.3732 49.0888C97.4499 51.8983 95.9511 54.4481 93.4556 55.7462C91.3621 56.8393 88.8554 56.8445 86.7492 55.7597L83.3139 53.991L80.9836 57.0728C79.5905 58.9147 77.473 59.9711 75.1737 59.9711C72.8687 59.9711 70.749 58.9176 69.3592 57.0801L67.0268 53.9963L63.5906 55.7693C61.4836 56.8568 58.9761 56.8557 56.8801 55.7644C54.3893 54.4697 52.8858 51.9215 52.9558 49.114L53.0458 45.5017L49.5562 44.5642C46.3986 43.7157 44.1873 40.8352 44.1785 37.5528C44.167 34.2721 46.3664 31.3767 49.5257 30.5116ZM69.0079 119.058C66.6313 116.683 65.3883 114.19 65.3883 112.955C65.3883 111.852 65.5772 111.773 66.2798 111.477C68.2825 110.634 72.2159 110.537 75 110.537C77.7841 110.537 81.7175 110.634 83.7202 111.477C84.4228 111.773 84.6117 111.852 84.6117 112.955C84.6117 114.19 83.3684 116.683 80.9921 119.058C78.6557 121.394 76.161 122.653 75 122.653C73.839 122.653 71.3446 121.393 69.0079 119.058ZM110.351 93.9611C109.266 96.8507 108.036 100.126 106.793 103.859C100.703 122.161 94.3125 132.826 79.5926 134.591V130.922C83.1985 129.53 86.1352 126.904 87.4852 125.555C89.3828 123.659 93.7969 118.634 93.7969 112.956C93.7969 108.31 91.483 104.779 87.2825 103.011C84.482 101.833 80.9233 101.352 75 101.352C69.0768 101.352 65.5181 101.833 62.7176 103.011C58.5164 104.779 56.2031 108.31 56.2031 112.956C56.2031 118.634 60.6173 123.659 62.5148 125.555C63.8648 126.904 66.8016 129.53 70.4074 130.922V134.591C55.6881 132.826 49.2972 122.161 43.207 103.859C41.9645 100.126 40.734 96.8504 39.6486 93.9611C36.539 85.6845 34.2922 79.7047 34.2922 70.0027C34.2922 61.6173 36.7256 55.2971 41.707 50.8015C42.4338 51.3373 43.2076 51.8169 44.0235 52.2303C44.9062 57.2046 48.0231 61.5133 52.6409 63.913C56.3103 65.8232 60.5379 66.2579 64.4683 65.2161C67.4177 67.7503 71.1721 69.1563 75.1734 69.1563C79.1731 69.1563 82.9272 67.7474 85.878 65.2074C89.809 66.2459 94.036 65.8059 97.7007 63.8919C102.245 61.528 105.398 57.1384 106.298 52.1899C107.038 51.814 107.741 51.3827 108.408 50.9061C113.312 55.3935 115.708 61.6768 115.708 70.0024C115.708 79.7044 113.461 85.6845 110.351 93.9611ZM139.908 50.2967C137.073 54.8058 128.298 56.6758 123.025 57.2676C122.411 55.3741 121.645 53.5853 120.729 51.9027C125.799 50.3122 133.387 47.9283 140.719 45.6106C141.137 48.3426 140.262 49.7324 139.908 50.2967Z"
                  fill="black"
                  stroke="white"
                  stroke-width="4"
                  mask="url(#path-1-inside-1)"
                />
                <path
                  d="M59.7157 74.7489C56.9564 74.7489 54.6885 77.0215 54.6885 79.8541C54.6885 82.6866 56.9567 84.9613 59.7157 84.9613C62.4792 84.9613 64.7468 82.686 64.7468 79.8541L59.7157 74.7489ZM59.7157 74.7489C62.4794 74.7489 64.7465 77.0218 64.7468 79.8541L59.7157 74.7489Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M90.2399 74.7011C87.4487 74.7011 85.1631 76.9965 85.1631 79.8541C85.1631 82.7116 87.4487 85.007 90.2399 85.007C93.0265 85.007 95.3125 82.7121 95.3125 79.8542L90.2399 74.7011ZM90.2399 74.7011C93.0262 74.7011 95.3122 76.9958 95.3125 79.8541L90.2399 74.7011Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="150" height="150" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </div>
          <!-- requestAnimationFrame -->
          <div class="raf-animation" style="transform: none;">
            <svg width="150" height="150" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <path
                  d="M54.6865 66.5796C54.6865 63.7472 56.9545 61.4741 59.7141 61.4741C62.4782 61.4741 64.7455 63.7473 64.7455 66.5796C64.7455 69.4117 62.4777 71.6871 59.7141 71.6871C56.9547 71.6871 54.6865 69.4121 54.6865 66.5796Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M85.1631 66.5799C85.1631 63.722 87.4487 61.4266 90.2399 61.4266C93.0268 61.4266 95.3129 63.7216 95.3129 66.5799C95.3129 69.4381 93.0268 71.7331 90.2399 71.7331C87.4487 71.7331 85.1631 69.4377 85.1631 66.5799Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M65.3458 111.766C63.295 111.766 61.6035 113.456 61.6035 115.57C61.6035 117.683 63.2954 119.375 65.3458 119.375C67.4001 119.375 69.091 117.683 69.0911 115.57L65.3458 111.766ZM65.3458 111.766C67.4004 111.766 69.0908 113.457 69.0911 115.57L65.3458 111.766Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M80.8369 115.57V115.57C80.8369 113.437 82.5421 111.729 84.6182 111.729C86.6906 111.729 88.3962 113.436 88.3962 115.57C88.3962 117.703 86.6906 119.411 84.6182 119.411C82.542 119.411 80.8367 117.703 80.8369 115.57Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
                <path
                  d="M142.157 29.3638L142.459 30.3171L145.522 29.3458L146.828 32.2825C148.938 37.0313 150.486 43.7362 146.664 49.6873C144.213 53.5013 140.153 56.0551 135.753 57.7541C131.363 59.4493 126.736 60.2546 123.291 60.635L122.328 60.7413L122.404 61.7069C122.495 62.8704 122.545 64.0579 122.545 65.2747C122.545 76.1383 120.056 82.7767 116.835 91.351C115.76 94.2111 114.642 97.1861 113.484 100.666L114.433 100.981L113.484 100.666C110.497 109.643 106.935 118.726 100.932 125.451L101.617 126.063L100.932 125.451C94.4606 132.701 86.0202 136.247 75.0002 136.247C63.9802 136.247 55.5399 132.701 49.069 125.451C43.0659 118.726 39.5038 109.642 36.5164 100.666C35.3591 97.188 34.2418 94.2139 33.1676 91.3548L33.1662 91.351C29.9449 82.777 27.4556 76.1383 27.4556 65.2747C27.4556 64.0577 27.5058 62.87 27.597 61.7072L27.6728 60.7413L26.7098 60.635C23.2648 60.2546 18.6374 59.4493 14.2474 57.7539C9.84774 56.0549 5.78705 53.5012 3.33702 49.6873C-0.485398 43.7361 1.0616 37.0313 3.1724 32.2825L4.47785 29.3457L7.54216 30.3171C18.7634 33.8748 31.8444 37.9789 37.619 39.7886L38.1299 39.9487L38.5464 39.6123C40.4445 38.0794 42.5813 36.7279 44.9522 35.5695L44.9524 35.5694C46.2785 34.921 47.644 34.3506 49.0341 33.8447L50.03 33.4822L49.6104 32.509C47.9429 28.642 46.2571 22.5836 46.138 13.753H53.3244C53.432 20.8254 54.6686 25.6303 55.7377 28.4889C56.1066 29.4754 56.478 30.2951 56.8179 30.9597L57.1567 31.6222L57.8887 31.488C64.11 30.3468 70.1985 30.1494 75.0005 30.1494C79.8026 30.1494 85.8911 30.3471 92.1124 31.488L92.8446 31.6222L93.1833 30.9593C93.5227 30.2952 93.8944 29.4756 94.2634 28.4889L94.2634 28.4888C95.3319 25.6304 96.569 20.8256 96.6767 13.753H103.863C103.744 22.5836 102.058 28.6417 100.391 32.5091L99.9712 33.4822L100.967 33.8447C102.357 34.3505 103.723 34.9213 105.049 35.5694C107.42 36.7282 109.557 38.0797 111.455 39.6124L111.871 39.9487L112.382 39.7886C118.157 37.9792 131.238 33.8743 142.459 30.3171L142.157 29.3638ZM28.2919 53.5638L29.0853 53.6437L29.3398 52.8881C30.0622 50.7439 30.9915 48.7459 32.1226 46.8985L32.7916 45.8056L31.569 45.4222C25.9341 43.6548 17.6307 41.0453 9.66522 38.5266L8.59095 38.1869L8.38121 39.2939C8.01153 41.2451 8.00609 43.6605 9.38219 45.8032L9.38222 45.8032C11.1225 48.5126 14.4949 50.2846 17.9764 51.4527C21.5012 52.6353 25.3485 53.2673 28.2919 53.5638ZM48.1986 109.134L47.6235 109.628L47.9441 110.315C50.7468 116.322 54.0013 121.031 58.3493 124.229C62.7153 127.441 68.0898 129.061 74.9997 129.061C81.9097 129.061 87.2842 127.441 91.6501 124.229C95.9981 121.031 99.2525 116.322 102.055 110.315L102.376 109.628L101.801 109.134C95.4104 103.644 85.4499 100.382 74.9997 100.382C64.55 100.382 54.5892 103.643 48.1986 109.134ZM104.125 101.822L105.209 102.606L105.654 101.344C105.992 100.385 106.33 99.4061 106.666 98.3967C107.864 94.7937 109.052 91.6321 110.106 88.8276L110.107 88.8237L110.122 88.7847C113.129 80.7791 115.359 74.8429 115.358 65.2744C115.358 59.7479 114.278 55.038 112.029 51.1424C109.775 47.2395 106.388 44.2223 101.893 42.025C95.3796 38.8411 86.5508 37.3349 74.9997 37.3349C63.4485 37.3349 54.62 38.8411 48.1065 42.025C43.6111 44.2223 40.2242 47.2394 37.9708 51.1423C35.7217 55.0379 34.6408 59.7477 34.6408 65.2744C34.6408 74.8445 36.871 80.781 39.8791 88.7886L39.8923 88.8237L39.8936 88.8272C40.9472 91.6318 42.1348 94.7935 43.3337 98.3967C43.6696 99.406 44.0067 100.385 44.3453 101.344L44.7902 102.606L45.8741 101.822C53.4238 96.3662 63.8296 93.1966 74.9997 93.1966C86.1697 93.1966 96.5756 96.3662 104.125 101.822ZM120.657 52.8818L120.913 53.6385L121.707 53.5572C124.654 53.2557 128.508 52.6184 132.035 51.4345C135.518 50.2655 138.892 48.4959 140.622 45.7952L139.791 45.2627L140.622 45.7952C141.994 43.6545 141.987 41.2424 141.618 39.2939L141.408 38.187L140.334 38.5266C132.369 41.0453 124.065 43.6545 118.43 45.4222L117.208 45.8057L117.877 46.8984C119.007 48.7443 119.935 50.7397 120.657 52.8818Z"
                  fill="black"
                  stroke="white"
                  stroke-width="2"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="150" height="150" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>
      </section>

      <!-- 'meta' indicators -->
      <section class="indicators">
        <label class="blocking-js hidden">
          <span class="gear">
            <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0)">
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  fill="white"
                />
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  fill="white"
                />
                <path
                  d="M50.5495 46.9053L46.9052 50.5495L40.2951 45.6881L39.3018 46.258C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3738L32.5768 56.4844H27.4233L26.1868 48.3738L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.258L19.7049 45.6881L13.0948 50.5491L9.45053 46.9053L14.312 40.2952L13.7421 39.3014C12.9533 37.9258 12.3422 36.4513 11.9261 34.9183L11.6263 33.8132L3.51563 32.5768L3.51563 27.4233L11.6263 26.1869L11.9261 25.0818C12.3422 23.5488 12.9533 22.0739 13.7421 20.6983L14.312 19.705L9.45053 13.0948L13.0948 9.45059L19.7049 14.312L20.6982 13.7421C22.0738 12.9534 23.5487 12.3423 25.0818 11.9262L26.1868 11.6263L27.4233 3.51569L32.5768 3.51569L33.8132 11.6263L34.9182 11.9262C36.4513 12.3423 37.9262 12.9534 39.3018 13.7421L40.2951 14.312L46.9057 9.45059L50.5495 13.0948L45.688 19.705L46.2579 20.6983C47.0467 22.0739 47.6578 23.5488 48.0739 25.0818L48.3737 26.1869L56.4844 27.4233V32.5768L48.3737 33.8132L48.0739 34.9183C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2952L50.5495 46.9053Z"
                  stroke="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  fill="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  fill="black"
                />
                <path
                  d="M60 35.5971L60 24.4029L51.134 23.0511C50.7866 21.9933 50.3595 20.9624 49.8573 19.9695L55.1706 12.7446L47.2554 4.82941L40.0305 10.1427C39.0372 9.6405 38.0067 9.21341 36.9489 8.86597L35.5971 0L24.4029 0L23.0511 8.86597C21.9933 9.21341 20.9624 9.6405 19.9695 10.1427L12.7446 4.82941L4.82941 12.7446L10.1427 19.9695C9.6405 20.9628 9.21341 21.9933 8.86597 23.0511L0 24.4029L0 35.5971L8.86597 36.9489C9.21341 38.0067 9.6405 39.0376 10.1427 40.0305L4.82941 47.2554L12.7446 55.1706L19.9695 49.8573C20.9628 50.3595 21.9933 50.7866 23.0511 51.134L24.4029 60L35.5971 60L36.9489 51.134C38.0067 50.7866 39.0372 50.3595 40.0305 49.8573L47.2554 55.1706L55.1706 47.2554L49.8573 40.0305C50.3595 39.0372 50.7866 38.0067 51.134 36.9489L60 35.5971ZM50.5495 46.9052L46.9052 50.5495L40.2951 45.688L39.3018 46.2579C37.9262 47.0467 36.4513 47.6578 34.9182 48.0739L33.8132 48.3737L32.5768 56.4844L27.4232 56.4844L26.1868 48.3737L25.0818 48.0739C23.5492 47.6578 22.0743 47.0467 20.6982 46.2579L19.7049 45.688L13.0948 50.549L9.45053 46.9052L14.312 40.2951L13.7421 39.3013C12.9533 37.9257 12.3422 36.4513 11.9261 34.9182L11.6263 33.8132L3.51563 32.5768L3.51563 27.4232L11.6263 26.1868L11.9261 25.0818C12.3422 23.5487 12.9533 22.0738 13.7421 20.6982L14.312 19.7049L9.45053 13.0948L13.0948 9.45053L19.7049 14.312L20.6982 13.7421C22.0738 12.9533 23.5487 12.3422 25.0818 11.9261L26.1868 11.6263L27.4232 3.51562L32.5768 3.51562L33.8132 11.6263L34.9182 11.9261C36.4513 12.3422 37.9262 12.9533 39.3018 13.7421L40.2951 14.312L46.9057 9.45053L50.5495 13.0948L45.688 19.7049L46.2579 20.6982C47.0467 22.0738 47.6578 23.5487 48.0739 25.0818L48.3737 26.1868L56.4844 27.4232L56.4844 32.5768L48.3737 33.8132L48.0739 34.9182C47.6578 36.4513 47.0467 37.9262 46.2579 39.3018L45.688 40.2951L50.5495 46.9052Z"
                  stroke="black"
                />
                <path
                  d="M30 15.2344C21.8582 15.2344 15.2344 21.8582 15.2344 30C15.2344 38.1418 21.8582 44.7657 30 44.7657C38.1418 44.7657 44.7656 38.1418 44.7656 30C44.7656 21.8582 38.1418 15.2344 30 15.2344ZM30 41.25C23.7968 41.25 18.75 36.2032 18.75 30C18.75 23.7969 23.7968 18.75 30 18.75C36.2032 18.75 41.25 23.7969 41.25 30C41.25 36.2032 36.2032 41.25 30 41.25Z"
                  fill="black"
                  stroke="black"
                />
                <path
                  d="M30 22.7344C25.9937 22.7344 22.7344 25.9937 22.7344 30.0001C22.7344 34.0064 25.9937 37.2657 30 37.2657C34.0064 37.2657 37.2656 34.0064 37.2656 30.0001C37.2656 25.9937 34.0064 22.7344 30 22.7344ZM30 33.7501C27.9323 33.7501 26.25 32.0678 26.25 30.0001C26.25 27.9323 27.9323 26.2501 30 26.2501C32.0677 26.2501 33.75 27.9323 33.75 30.0001C33.75 32.0678 32.0677 33.7501 30 33.7501Z"
                  fill="black"
                  stroke="black"
                />
              </g>
              <defs>
                <clipPath id="clip0">
                  <rect width="60" height="60" fill="white" />
                </clipPath>
              </defs>
            </svg>
          </span>
        </label>
        <label class="fps-label"><span class="fps-counter">0</span> FPS</label>
      </section>

      <!-- actions -->
      <section class="actions">
        <button class="start-button" onclick="startAnimation()">
          <svg width="32" height="37" viewBox="0 0 32 37" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 18.5L30.25 3.34455L30.25 33.6554L4 18.5Z" stroke="currentColor" stroke-width="3.5" />
          </svg>
          start
        </button>
        <button class="reset-button" onclick="resetAnimation()">
          <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M33.6155 5.15705H36.9659H37.2159V4.90705V2.43282V2.18282H36.9659H26.9413H26.6913V2.43282V12.5148V12.7648H26.9413H29.4155H29.6655V12.5148V6.04975C34.9608 9.11106 38.2758 14.7594 38.2758 21C38.2758 30.5257 30.5257 38.2758 21 38.2758C11.4743 38.2758 3.72423 30.5257 3.72423 21C3.72423 11.4743 11.4743 3.72423 21 3.72423C21.4273 3.72423 21.8632 3.74049 22.2954 3.77245L22.5447 3.79089L22.5631 3.54159L22.7458 1.07413L22.7643 0.824823L22.515 0.806353C22.0102 0.768955 21.5005 0.75 21 0.75C15.5915 0.75 10.5055 2.85675 6.68112 6.68104L6.68112 6.68104C2.85675 10.5055 0.75 15.5915 0.75 21C0.75 26.4085 2.85675 31.4945 6.68112 35.3189C10.5055 39.1432 15.5915 41.25 21 41.25C26.4085 41.25 31.4945 39.1432 35.319 35.3189C39.1432 31.4945 41.25 26.4085 41.25 21C41.25 16.9171 40.0397 12.9808 37.7501 9.6179C36.5925 7.9179 35.1986 6.41845 33.6155 5.15705Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="0.5"
            />
            <path
              d="M19.5131 8.03143V19.5129H8.01074H7.76074V19.7629V22.2371V22.4871H8.01074H22.2373H22.4873V22.2371V8.03143V7.78143H22.2373H19.7631H19.5131V8.03143Z"
              fill="currentColor"
              stroke="currentColor"
              stroke-width="0.5"
            />
          </svg>
          reset
        </button>
      </section>
    </main>

    <script>
      /**
       * animate our CSS & JS elements
       * with help of some base code from https://sergeche.github.io/gpu-article-assets/examples/js-vs-css.html
       */
      function startAnimation() {
        // reset everything
        resetAnimation();

        // run fps refresh loop
        window.startRefreshFPS();

        // get our DOM elements
        const { startButtonElement, timeoutAnimationElement, rafAnimationElement, blockingJSElement } = window.getAnimateElements();

        // so we don't accidentally run twice
        if (startButtonElement.disabled) return;

        // start 'running' animation
        blockingJSElement.classList.toggle('visible');
        blockingJSElement.classList.toggle('hidden');

        // setup some details for animation
        startButtonElement.disabled = true;
        const distance = 600; // in pixels

        // begin animation
        document.body.classList.add('animate');

        // kick off our imperative animations
        setTimeout(() => animationLoop({ distance, animateElement: timeoutAnimationElement, isRaf: false }), 50);
        requestAnimationFrame(() => animationLoop({ distance, animateElement: rafAnimationElement, isRaf: true }));
      }

      /**
       * reset everything ðŸš‚
       */
      function resetAnimation() {
        // stop fps refresh loop
        window.stopRefreshFPS();

        // get our DOM elements
        const { startButtonElement, timeoutAnimationElement, rafAnimationElement } = window.getAnimateElements();

        // allow button use
        startButtonElement.disabled = false;

        // reset animation elements
        timeoutAnimationElement.style.transform = 'none';
        rafAnimationElement.style.transform = 'none';
      }

      /**
       * our js animation loop
       */
      function animationLoop({ start = Date.now(), distance = 600, duration = 5000, animateElement = null, isRaf = true }) {
        // get some timings
        const now = Date.now();
        const currentDuration = Math.min(now - start, duration);

        // manually move our animation element
        animateElement.style.transform = 'translateX(' + distance * (currentDuration / duration) + 'px)';

        // depending on timings, cancel loop or run again
        if (currentDuration === duration) return animationLoopCleanup();
        else
          isRaf
            ? requestAnimationFrame(() => animationLoop({ start, animateElement, isRaf }))
            : setTimeout(() => animationLoop({ start, animateElement, isRaf }), 50);
      }

      /**
       * cleanup our animation loop
       */
      function animationLoopCleanup() {
        // get elements
        const { startButtonElement, statusElement, blockingJSElement } = window.getAnimateElements();

        // remove animation classes
        document.body.classList.remove('animate');

        // stop 'running' animation
        blockingJSElement.classList.remove('visible');
        blockingJSElement.classList.add('hidden');

        // reset button & fps counter
        return setTimeout(() => {
          startButtonElement.disabled = false;
          window.stopRefreshFPS();
        }, 500);
      }

      /**
       * get our elements from DOM
       */
      function getAnimateElements() {
        const startButtonElement = document.querySelector('.start-button');
        const timeoutAnimationElement = document.querySelector('.timeout-animation');
        const rafAnimationElement = document.querySelector('.raf-animation');
        const blockingJSElement = document.querySelector('.blocking-js');
        return { startButtonElement, timeoutAnimationElement, rafAnimationElement, blockingJSElement };
      }
    </script>
  </body>
</html>
